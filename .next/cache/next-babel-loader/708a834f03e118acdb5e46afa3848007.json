{"ast":null,"code":"var _jsxFileName = \"/home/fa059086/Projects/Decentralized_OSN/pages/posts/[postid].js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { withRouter } from \"next/router\";\nimport React, { Component } from \"react\";\nimport ipfs from \"../../ethereum/ipfs\";\nimport { web3, metamask_provider } from \"../../ethereum/web3\";\nimport PostFactory from \"../../ethereum/factory\";\nimport ZoomedImage from \"../../componenets/ZoomedImage/ZoomedImage\";\nimport PostContract from \"../../ethereum/build/Post.json\";\nimport Head from \"next/head\";\nimport FullPost from \"../../componenets/FullPost/FullPost\";\nimport DonateCard from \"../../componenets/DonateCard/DonateCard\";\nimport MetamaskCard from \"../../componenets/MetamaskCard/MetamaskCard\";\nimport Navbar from \"../../componenets/Navbar/Navbar\";\nlet accounts = [];\n\nclass Post extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"takeback\", event => {\n      event.preventDefault();\n      this.setState({\n        metamask: true,\n        is_donate: false\n      });\n    });\n\n    _defineProperty(this, \"imageZoom\", async event => {\n      event.preventDefault();\n      event.stopPropagation();\n      console.log(this.state.imageUrl);\n\n      if (this.state.zoomed !== null) {\n        this.setState({\n          zoomed: null\n        });\n      } else {\n        this.setState({\n          zoomed: `https://ipfs.io/ipfs/${this.state.imageUrl}`\n        });\n      }\n    });\n\n    _defineProperty(this, \"readContent\", event => {\n      event.preventDefault();\n      this.setState({\n        comment_content: event.target.value\n      });\n    });\n\n    _defineProperty(this, \"toggleCommentView\", async event => {\n      if (!this.state.hideComments) {\n        this.setState({\n          hideComments: true\n        });\n      } else {\n        const post_address = \"0x\" + this.state.address;\n        const Post = new web3.eth.Contract(JSON.parse(PostContract.interface), post_address);\n        const comments_address = await Post.methods.getComments().call();\n        const comments = await async function (comments_address) {\n          let new_comments = [];\n\n          for (let i = 0; i < comments_address.length; i++) {\n            const Comment = new web3.eth.Contract(JSON.parse(PostContract.interface), comments_address[i]);\n            const currentComment = {\n              address: comments_address[i],\n              imageUrl: await Comment.methods.image_hash().call(),\n              author: await Comment.methods.author().call(),\n              content: await Comment.methods.content().call()\n            };\n            new_comments.push(currentComment);\n          }\n\n          return new_comments;\n        }(comments_address);\n        this.setState({\n          comments: comments,\n          hideComments: false\n        });\n      }\n    });\n\n    _defineProperty(this, \"donate\", async event => {\n      event.persist();\n      event.stopPropagation();\n      event.preventDefault();\n      let tip = await PostFactory.methods.min_contribution().call();\n      tip = web3.utils.fromWei(tip, \"ether\");\n      this.setState({\n        is_donate: true,\n        min_tip: tip\n      });\n    });\n\n    _defineProperty(this, \"captureFile\", event => {\n      event.preventDefault();\n      event.stopPropagation();\n      const file = event.target.files[0];\n      const reader = new window.FileReader();\n      reader.readAsArrayBuffer(file);\n\n      reader.onloadend = () => {\n        this.setState({\n          buffer: Buffer(reader.result)\n        });\n      };\n    });\n\n    _defineProperty(this, \"isdonatebuttonon\", event => {\n      event.preventDefault();\n      let new_value = true;\n\n      if (event.target.value >= this.state.min_tip) {\n        new_value = false;\n      }\n\n      this.setState({\n        value: event.target.value,\n        disable_transact_okay: new_value\n      });\n    });\n\n    _defineProperty(this, \"transact\", async event => {\n      event.persist();\n      event.preventDefault();\n      accounts = await web3.eth.getAccounts();\n\n      if (metamask_provider == false || accounts.length == 0) {\n        this.setState({\n          metamask: false,\n          is_donate: false\n        });\n      } else {\n        this.setState({\n          metamask: true,\n          donating: true\n        });\n        const address = this.state.address;\n        const post = new web3.eth.Contract(JSON.parse(PostContract.interface), address);\n        await post.methods.receiveContribution().send({\n          from: accounts[0],\n          value: web3.utils.toWei(this.state.value, \"ether\")\n        });\n        this.setState({\n          metamask: true,\n          value: 0,\n          is_donate: false,\n          donating: false\n        });\n      }\n    });\n\n    _defineProperty(this, \"postComment\", async event => {\n      event.persist();\n      event.preventDefault();\n      event.stopPropagation();\n      accounts = await web3.eth.getAccounts();\n\n      if (metamask_provider == false || accounts.length == 0) {\n        this.setState({\n          metamask: false\n        });\n      } else {\n        this.setState({\n          metamask: true,\n          uploading: true\n        });\n        ipfs.files.add(this.state.buffer, async (error, result) => {\n          if (error) {\n            console.error(error);\n            return;\n          }\n\n          const parent_address = \"0x\" + this.state.address;\n          await PostFactory.methods.createComment(parent_address, result[0].hash, this.state.comment_content).send({\n            from: accounts[0]\n          });\n          const parent_post = new web3.eth.Contract(JSON.parse(PostContract.interface), parent_address);\n          const comments_address = await parent_post.methods.getComments().call();\n          const comments = await async function (comments_address) {\n            let new_comments = [];\n\n            for (let i = 0; i < comments_address.length; i++) {\n              const Comment = new web3.eth.Contract(JSON.parse(PostContract.interface), comments_address[i]);\n              const currentComment = {\n                imageUrl: await Comment.methods.image_hash().call(),\n                author: await Comment.methods.author().call(),\n                content: await Comment.methods.content().call()\n              };\n              new_comments.push(currentComment);\n            }\n\n            return new_comments;\n          }(comments_address);\n          this.setState({\n            comments: comments,\n            comment_content: \"\",\n            uploading: false\n          });\n          const file_uploader = document.getElementById(\"file_upload_2\");\n          file_uploader.value = \"\";\n        });\n      }\n    });\n\n    this.state = {\n      author: null,\n      content: null,\n      imageUrl: null,\n      address: this.props.address,\n      comments: [],\n      hideComments: true,\n      zoomed: null,\n      is_donate: false,\n      metamask: true,\n      min_tip: 0,\n      value: 0,\n      comment_content: \"\",\n      disable_transact_okay: true,\n      donating: false,\n      uploading: false\n    };\n  }\n\n  static getInitialProps(props) {\n    return {\n      address: props.query.postid\n    };\n  }\n\n  async componentWillReceiveProps(nextProps) {\n    const post_address = nextProps.address;\n    const Post = new web3.eth.Contract(JSON.parse(PostContract.interface), post_address);\n    const author = await Post.methods.author().call();\n    const content = await Post.methods.content().call();\n    const imageUrl = await Post.methods.image_hash().call();\n    this.setState({\n      author: author,\n      content: content,\n      imageUrl: imageUrl,\n      comments: [],\n      address: nextProps.address,\n      hideComments: true\n    });\n  }\n\n  async componentDidMount() {\n    accounts = await web3.eth.getAccounts();\n    const post_address = \"0x\" + this.state.address;\n    const Post = new web3.eth.Contract(JSON.parse(PostContract.interface), post_address);\n    const author = await Post.methods.author().call();\n    const content = await Post.methods.content().call();\n    const imageUrl = await Post.methods.image_hash().call();\n    this.setState({\n      author: author,\n      content: content,\n      imageUrl: imageUrl,\n      comments: []\n    });\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      className: \"row\",\n      style: {\n        width: \"100%\",\n        height: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 4\n      }\n    }, __jsx(Head, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 5\n      }\n    }, __jsx(\"title\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 6\n      }\n    }, \"DOSN\"), __jsx(\"link\", {\n      href: \"https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css\",\n      rel: \"stylesheet\",\n      integrity: \"sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC\",\n      crossorigin: \"anonymous\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 6\n      }\n    }), __jsx(\"link\", {\n      rel: \"stylesheet\",\n      href: \"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 6\n      }\n    }), __jsx(\"script\", {\n      src: \"https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js\",\n      integrity: \"sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p\",\n      crossorigin: \"anonymous\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 6\n      }\n    }), __jsx(\"script\", {\n      src: \"https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js\",\n      integrity: \"sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF\",\n      crossorigin: \"anonymous\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 6\n      }\n    }), __jsx(\"script\", {\n      src: \"https://cdn.jsdelivr.net/npm/jdenticon@2.2.0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 6\n      }\n    })), __jsx(\"div\", {\n      className: \"col-lg-3\",\n      style: {\n        position: \"relative\",\n        textAlign: \"right\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 5\n      }\n    }, __jsx(Navbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 6\n      }\n    })), __jsx(\"div\", {\n      className: \"container col-lg-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 5\n      }\n    }, this.state.is_donate == true && __jsx(DonateCard, {\n      min_tip: this.state.min_tip,\n      isdonatebuttonon: this.isdonatebuttonon,\n      takeback: this.takeback,\n      transact: this.transact,\n      disable_transact_okay: this.state.disable_transact_okay,\n      donating: this.state.donating,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 7\n      }\n    }), this.state.metamask == false && __jsx(MetamaskCard, {\n      takeback: this.takeback,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 7\n      }\n    }), this.state.zoomed !== null && __jsx(ZoomedImage, {\n      zoomed: this.state.zoomed,\n      imageZoom: this.imageZoom,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 7\n      }\n    }), __jsx(FullPost, {\n      address: this.state.address,\n      content: this.state.content,\n      author: this.state.author,\n      imageUrl: this.state.imageUrl,\n      comments: this.state.comments,\n      hideComments: this.state.hideComments,\n      toggleCommentView: this.toggleCommentView,\n      imageZoom: this.imageZoom,\n      donate: this.donate,\n      comment_content: this.state.comment_content,\n      postComment: this.postComment,\n      readContent: this.readContent,\n      captureFile: this.captureFile,\n      uploading: this.state.uploading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 6\n      }\n    })));\n  }\n\n}\n\nexport default withRouter(Post);","map":{"version":3,"sources":["/home/fa059086/Projects/Decentralized_OSN/pages/posts/[postid].js"],"names":["withRouter","React","Component","ipfs","web3","metamask_provider","PostFactory","ZoomedImage","PostContract","Head","FullPost","DonateCard","MetamaskCard","Navbar","accounts","Post","constructor","props","event","preventDefault","setState","metamask","is_donate","stopPropagation","console","log","state","imageUrl","zoomed","comment_content","target","value","hideComments","post_address","address","eth","Contract","JSON","parse","interface","comments_address","methods","getComments","call","comments","new_comments","i","length","Comment","currentComment","image_hash","author","content","push","persist","tip","min_contribution","utils","fromWei","min_tip","file","files","reader","window","FileReader","readAsArrayBuffer","onloadend","buffer","Buffer","result","new_value","disable_transact_okay","getAccounts","donating","post","receiveContribution","send","from","toWei","uploading","add","error","parent_address","createComment","hash","parent_post","file_uploader","document","getElementById","getInitialProps","query","postid","componentWillReceiveProps","nextProps","componentDidMount","render","width","height","position","textAlign","isdonatebuttonon","takeback","transact","imageZoom","toggleCommentView","donate","postComment","readContent","captureFile"],"mappings":"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","sourcesContent":["import { withRouter } from \"next/router\";\nimport React, { Component } from \"react\";\nimport ipfs from \"../../ethereum/ipfs\";\nimport { web3, metamask_provider } from \"../../ethereum/web3\";\nimport PostFactory from \"../../ethereum/factory\";\nimport ZoomedImage from \"../../componenets/ZoomedImage/ZoomedImage\";\nimport PostContract from \"../../ethereum/build/Post.json\";\nimport Head from \"next/head\";\nimport FullPost from \"../../componenets/FullPost/FullPost\";\nimport DonateCard from \"../../componenets/DonateCard/DonateCard\";\nimport MetamaskCard from \"../../componenets/MetamaskCard/MetamaskCard\";\nimport Navbar from \"../../componenets/Navbar/Navbar\";\n\nlet accounts = [];\n\nclass Post extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tauthor: null,\n\t\t\tcontent: null,\n\t\t\timageUrl: null,\n\t\t\taddress: this.props.address,\n\t\t\tcomments: [],\n\t\t\thideComments: true,\n\t\t\tzoomed: null,\n\t\t\tis_donate: false,\n\t\t\tmetamask: true,\n\t\t\tmin_tip: 0,\n\t\t\tvalue: 0,\n\t\t\tcomment_content: \"\",\n\t\t\tdisable_transact_okay: true,\n\t\t\tdonating: false,\n\t\t\tuploading: false,\n\t\t};\n\t}\n\n\tstatic getInitialProps(props) {\n\t\treturn { address: props.query.postid };\n\t}\n\n\tasync componentWillReceiveProps(nextProps) {\n\t\tconst post_address = nextProps.address;\n\t\tconst Post = new web3.eth.Contract(\n\t\t\tJSON.parse(PostContract.interface),\n\t\t\tpost_address\n\t\t);\n\t\tconst author = await Post.methods.author().call();\n\t\tconst content = await Post.methods.content().call();\n\t\tconst imageUrl = await Post.methods.image_hash().call();\n\t\tthis.setState({\n\t\t\tauthor: author,\n\t\t\tcontent: content,\n\t\t\timageUrl: imageUrl,\n\t\t\tcomments: [],\n\t\t\taddress: nextProps.address,\n\t\t\thideComments: true,\n\t\t});\n\t}\n\n\tasync componentDidMount() {\n\t\taccounts = await web3.eth.getAccounts();\n\t\tconst post_address = \"0x\" + this.state.address;\n\t\tconst Post = new web3.eth.Contract(\n\t\t\tJSON.parse(PostContract.interface),\n\t\t\tpost_address\n\t\t);\n\t\tconst author = await Post.methods.author().call();\n\t\tconst content = await Post.methods.content().call();\n\t\tconst imageUrl = await Post.methods.image_hash().call();\n\t\tthis.setState({\n\t\t\tauthor: author,\n\t\t\tcontent: content,\n\t\t\timageUrl: imageUrl,\n\t\t\tcomments: [],\n\t\t});\n\t}\n\n\ttakeback = (event) => {\n\t\tevent.preventDefault();\n\t\tthis.setState({ metamask: true, is_donate: false });\n\t};\n\n\timageZoom = async (event) => {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\tconsole.log(this.state.imageUrl);\n\t\tif (this.state.zoomed !== null) {\n\t\t\tthis.setState({ zoomed: null });\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tzoomed: `https://ipfs.io/ipfs/${this.state.imageUrl}`,\n\t\t\t});\n\t\t}\n\t};\n\n\treadContent = (event) => {\n\t\tevent.preventDefault();\n\t\tthis.setState({ comment_content: event.target.value });\n\t};\n\n\ttoggleCommentView = async (event) => {\n\t\tif (!this.state.hideComments) {\n\t\t\tthis.setState({ hideComments: true });\n\t\t} else {\n\t\t\tconst post_address = \"0x\" + this.state.address;\n\t\t\tconst Post = new web3.eth.Contract(\n\t\t\t\tJSON.parse(PostContract.interface),\n\t\t\t\tpost_address\n\t\t\t);\n\t\t\tconst comments_address = await Post.methods.getComments().call();\n\t\t\tconst comments = await (async function (comments_address) {\n\t\t\t\tlet new_comments = [];\n\t\t\t\tfor (let i = 0; i < comments_address.length; i++) {\n\t\t\t\t\tconst Comment = new web3.eth.Contract(\n\t\t\t\t\t\tJSON.parse(PostContract.interface),\n\t\t\t\t\t\tcomments_address[i]\n\t\t\t\t\t);\n\t\t\t\t\tconst currentComment = {\n\t\t\t\t\t\taddress: comments_address[i],\n\t\t\t\t\t\timageUrl: await Comment.methods.image_hash().call(),\n\t\t\t\t\t\tauthor: await Comment.methods.author().call(),\n\t\t\t\t\t\tcontent: await Comment.methods.content().call(),\n\t\t\t\t\t};\n\t\t\t\t\tnew_comments.push(currentComment);\n\t\t\t\t}\n\t\t\t\treturn new_comments;\n\t\t\t})(comments_address);\n\t\t\tthis.setState({ comments: comments, hideComments: false });\n\t\t}\n\t};\n\n\tdonate = async (event) => {\n\t\tevent.persist();\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\t\tlet tip = await PostFactory.methods.min_contribution().call();\n\t\ttip = web3.utils.fromWei(tip, \"ether\");\n\t\tthis.setState({\n\t\t\tis_donate: true,\n\t\t\tmin_tip: tip,\n\t\t});\n\t};\n\n\tcaptureFile = (event) => {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\tconst file = event.target.files[0];\n\t\tconst reader = new window.FileReader();\n\t\treader.readAsArrayBuffer(file);\n\t\treader.onloadend = () => {\n\t\t\tthis.setState({ buffer: Buffer(reader.result) });\n\t\t};\n\t};\n\n\tisdonatebuttonon = (event) => {\n\t\tevent.preventDefault();\n\t\tlet new_value = true;\n\t\tif (event.target.value >= this.state.min_tip) {\n\t\t\tnew_value = false;\n\t\t}\n\t\tthis.setState({\n\t\t\tvalue: event.target.value,\n\t\t\tdisable_transact_okay: new_value,\n\t\t});\n\t};\n\n\ttransact = async (event) => {\n\t\tevent.persist();\n\t\tevent.preventDefault();\n\t\taccounts = await web3.eth.getAccounts();\n\t\tif (metamask_provider == false || accounts.length == 0) {\n\t\t\tthis.setState({ metamask: false, is_donate: false });\n\t\t} else {\n\t\t\tthis.setState({ metamask: true, donating: true });\n\t\t\tconst address = this.state.address;\n\t\t\tconst post = new web3.eth.Contract(\n\t\t\t\tJSON.parse(PostContract.interface),\n\t\t\t\taddress\n\t\t\t);\n\t\t\tawait post.methods.receiveContribution().send({\n\t\t\t\tfrom: accounts[0],\n\t\t\t\tvalue: web3.utils.toWei(this.state.value, \"ether\"),\n\t\t\t});\n\t\t\tthis.setState({\n\t\t\t\tmetamask: true,\n\t\t\t\tvalue: 0,\n\t\t\t\tis_donate: false,\n\t\t\t\tdonating: false,\n\t\t\t});\n\t\t}\n\t};\n\n\tpostComment = async (event) => {\n\t\tevent.persist();\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\taccounts = await web3.eth.getAccounts();\n\t\tif (metamask_provider == false || accounts.length == 0) {\n\t\t\tthis.setState({ metamask: false });\n\t\t} else {\n\t\t\tthis.setState({ metamask: true, uploading: true });\n\t\t\tipfs.files.add(this.state.buffer, async (error, result) => {\n\t\t\t\tif (error) {\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst parent_address = \"0x\" + this.state.address;\n\t\t\t\tawait PostFactory.methods\n\t\t\t\t\t.createComment(\n\t\t\t\t\t\tparent_address,\n\t\t\t\t\t\tresult[0].hash,\n\t\t\t\t\t\tthis.state.comment_content\n\t\t\t\t\t)\n\t\t\t\t\t.send({ from: accounts[0] });\n\t\t\t\tconst parent_post = new web3.eth.Contract(\n\t\t\t\t\tJSON.parse(PostContract.interface),\n\t\t\t\t\tparent_address\n\t\t\t\t);\n\t\t\t\tconst comments_address = await parent_post.methods\n\t\t\t\t\t.getComments()\n\t\t\t\t\t.call();\n\t\t\t\tconst comments = await (async function (comments_address) {\n\t\t\t\t\tlet new_comments = [];\n\t\t\t\t\tfor (let i = 0; i < comments_address.length; i++) {\n\t\t\t\t\t\tconst Comment = new web3.eth.Contract(\n\t\t\t\t\t\t\tJSON.parse(PostContract.interface),\n\t\t\t\t\t\t\tcomments_address[i]\n\t\t\t\t\t\t);\n\t\t\t\t\t\tconst currentComment = {\n\t\t\t\t\t\t\timageUrl: await Comment.methods.image_hash().call(),\n\t\t\t\t\t\t\tauthor: await Comment.methods.author().call(),\n\t\t\t\t\t\t\tcontent: await Comment.methods.content().call(),\n\t\t\t\t\t\t};\n\t\t\t\t\t\tnew_comments.push(currentComment);\n\t\t\t\t\t}\n\t\t\t\t\treturn new_comments;\n\t\t\t\t})(comments_address);\n\t\t\t\tthis.setState({\n\t\t\t\t\tcomments: comments,\n\t\t\t\t\tcomment_content: \"\",\n\t\t\t\t\tuploading: false,\n\t\t\t\t});\n\t\t\t\tconst file_uploader = document.getElementById(\"file_upload_2\");\n\t\t\t\tfile_uploader.value = \"\";\n\t\t\t});\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"row\" style={{ width: \"100%\", height: \"100%\" }}>\n\t\t\t\t<Head>\n\t\t\t\t\t<title>DOSN</title>\n\t\t\t\t\t<link\n\t\t\t\t\t\thref=\"https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css\"\n\t\t\t\t\t\trel=\"stylesheet\"\n\t\t\t\t\t\tintegrity=\"sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC\"\n\t\t\t\t\t\tcrossorigin=\"anonymous\"\n\t\t\t\t\t></link>\n\t\t\t\t\t<link\n\t\t\t\t\t\trel=\"stylesheet\"\n\t\t\t\t\t\thref=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"\n\t\t\t\t\t></link>\n\t\t\t\t\t<script\n\t\t\t\t\t\tsrc=\"https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js\"\n\t\t\t\t\t\tintegrity=\"sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p\"\n\t\t\t\t\t\tcrossorigin=\"anonymous\"\n\t\t\t\t\t></script>\n\t\t\t\t\t<script\n\t\t\t\t\t\tsrc=\"https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js\"\n\t\t\t\t\t\tintegrity=\"sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF\"\n\t\t\t\t\t\tcrossorigin=\"anonymous\"\n\t\t\t\t\t></script>\n\t\t\t\t\t<script src=\"https://cdn.jsdelivr.net/npm/jdenticon@2.2.0\"></script>\n\t\t\t\t</Head>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"col-lg-3\"\n\t\t\t\t\tstyle={{ position: \"relative\", textAlign: \"right\" }}\n\t\t\t\t>\n\t\t\t\t\t<Navbar />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"container col-lg-9\">\n\t\t\t\t\t{this.state.is_donate == true && (\n\t\t\t\t\t\t<DonateCard\n\t\t\t\t\t\t\tmin_tip={this.state.min_tip}\n\t\t\t\t\t\t\tisdonatebuttonon={this.isdonatebuttonon}\n\t\t\t\t\t\t\ttakeback={this.takeback}\n\t\t\t\t\t\t\ttransact={this.transact}\n\t\t\t\t\t\t\tdisable_transact_okay={\n\t\t\t\t\t\t\t\tthis.state.disable_transact_okay\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdonating={this.state.donating}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{this.state.metamask == false && (\n\t\t\t\t\t\t<MetamaskCard takeback={this.takeback} />\n\t\t\t\t\t)}\n\t\t\t\t\t{this.state.zoomed !== null && (\n\t\t\t\t\t\t<ZoomedImage\n\t\t\t\t\t\t\tzoomed={this.state.zoomed}\n\t\t\t\t\t\t\timageZoom={this.imageZoom}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t<FullPost\n\t\t\t\t\t\taddress={this.state.address}\n\t\t\t\t\t\tcontent={this.state.content}\n\t\t\t\t\t\tauthor={this.state.author}\n\t\t\t\t\t\timageUrl={this.state.imageUrl}\n\t\t\t\t\t\tcomments={this.state.comments}\n\t\t\t\t\t\thideComments={this.state.hideComments}\n\t\t\t\t\t\ttoggleCommentView={this.toggleCommentView}\n\t\t\t\t\t\timageZoom={this.imageZoom}\n\t\t\t\t\t\tdonate={this.donate}\n\t\t\t\t\t\tcomment_content={this.state.comment_content}\n\t\t\t\t\t\tpostComment={this.postComment}\n\t\t\t\t\t\treadContent={this.readContent}\n\t\t\t\t\t\tcaptureFile={this.captureFile}\n\t\t\t\t\t\tuploading={this.state.uploading}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(Post);\n"]},"metadata":{},"sourceType":"module"}